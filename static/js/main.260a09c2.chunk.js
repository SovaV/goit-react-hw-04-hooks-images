(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={App:"Container_App__1Dfru"}},13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2AQk8"}},15:function(e,t,a){e.exports={Button:"Button_Button__XmOqH"}},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__g3hJe",SearchForm:"Searchbar_SearchForm__1zBgv",button:"Searchbar_button__2F192",label:"Searchbar_label__3Ah1q",input:"Searchbar_input__1cFa1"}},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),o=a.n(r),s=a(10),i=a(3),l=a(12),u=a.n(l),j=a(1);function b(e){var t=e.children;return Object(j.jsx)("div",{className:u.a.App,children:t})}var m=a(4),h=a.n(m);function d(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(j.jsx)("header",{className:h.a.Searchbar,children:Object(j.jsxs)("form",{className:h.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438")},children:[Object(j.jsx)("button",{type:"submit",className:h.a.button,children:Object(j.jsx)("span",{className:h.a.lable})}),Object(j.jsx)("input",{value:r,onChange:function(e){return o(e.currentTarget.value.toLowerCase())},className:h.a.input,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos"})]})})}var f=a(8),g=a.n(f);function O(e){var t=e.webformatURL,a=e.user,n=e.openModal,c=e.largeImageURL;return Object(j.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(j.jsx)("img",{src:t,alt:a,"data-source":c,className:g.a.image,onClick:n})})}var p=a(13),_=a.n(p);function v(e){var t=e.images,a=e.openModal;return Object(j.jsx)("ul",{className:_.a.ImageGallery,children:t.map((function(e){var t=e.webformatURL,n=e.id,c=e.user,r=e.largeImageURL;return Object(j.jsx)(O,{user:c,webformatURL:t,largeImageURL:r,openModal:a},n)}))})}var x=a(14),S=a.n(x);function y(){return Object(j.jsx)(S.a,{type:"Watch",color:"#00BFFF",height:200,width:200,timeout:3e3})}var I=a(9),w=a.n(I);function k(e){var t=e.onClose,a=e.largeImageURL;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(j.jsx)("div",{className:w.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(j.jsx)("div",{className:w.a.Modal,children:Object(j.jsx)("img",{src:a,alt:""})})})}var L=a(15),N=a.n(L);function M(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",className:N.a.Button,onClick:t,children:"Load More"})}var C={fetchImages:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"22963284-23f543f8627e95ac39317c785";return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat(n,"&image_type=photo&orientation=horizontal&per_page=").concat(a)).then((function(e){if(e.ok)return e.json()}))}},F=C,G="idle",R="pending",U="resolved",B="rejected";function E(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(i.a)(r,2),l=o[0],u=o[1],m=Object(n.useState)([]),h=Object(i.a)(m,2),f=h[0],g=h[1],O=Object(n.useState)(null),p=Object(i.a)(O,2),_=p[0],x=p[1],S=Object(n.useState)(G),I=Object(i.a)(S,2),w=I[0],L=I[1],N=Object(n.useState)(!1),C=Object(i.a)(N,2),E=C[0],A=C[1],T=Object(n.useState)(""),q=Object(i.a)(T,2),J=q[0],z=q[1];Object(n.useEffect)((function(){a&&(L(R),F.fetchImages(a,l).then((function(e){if(g((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))})),L(U),1!==l&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),0===e.total)return Promise.reject(new Error("\u043d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0432\u0432\u043e\u0434"))})).catch((function(e){x(e),L(B)})))}),[l,a]);var D=function(){A(!E)};return Object(j.jsxs)(b,{children:[Object(j.jsx)(d,{onSubmit:function(e){c(e),g([]),u(1)}}),w===G&&Object(j.jsx)("h2",{children:"\u0412\u0432\u0435\u0434\u0438 \u0438 \u0431\u0443\u0434\u0435\u0442 \u0447\u0443\u0434\u043e"}),w===B&&Object(j.jsx)("h1",{children:_.message}),f.length>0&&Object(j.jsx)(v,{images:f,openModal:function(e){z(e.target.dataset.source),D()}}),w===R&&Object(j.jsx)(y,{}),0!==f.length&&Object(j.jsx)(M,{onClick:function(){u((function(e){return e+1}))}}),E&&Object(j.jsx)(k,{onClose:D,largeImageURL:J})]})}a(41);o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1s2Fr",image:"ImageGalleryItem_image__3dx_a"}},9:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3Tjtj",Modal:"Modal_Modal__nuYta"}}},[[42,1,2]]]);
//# sourceMappingURL=main.260a09c2.chunk.js.map